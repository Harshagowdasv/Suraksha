{"ast":null,"code":"var _jsxFileName = \"C:\\\\MINIPROJECT STUDENTDROPUT\\\\miniproject7\\\\suraksha_project\\\\frontend\\\\src\\\\pages\\\\MentorDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useEffect } from \"react\";\nimport api from \"../api\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\nimport StudentInfoCard from \"../components/StudentInfoCard\";\nimport \"../components/StudentInfoCard.css\";\nimport \"./MentorDashboard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MentorDashboard() {\n  _s();\n  const mentorEmail = localStorage.getItem(\"email\") || \"\";\n  const [resource, setResource] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [students, setStudents] = useState([]);\n  const [messages, setMessages] = useState({});\n  const [viewItem, setViewItem] = useState(null);\n  const [messageItem, setMessageItem] = useState(null);\n  const [messageText, setMessageText] = useState(\"\");\n  const [aiData, setAiData] = useState(null);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [loadingAi, setLoadingAi] = useState(false);\n  const [downloading, setDownloading] = useState(false);\n\n  // ------------------------------\n  // Load Assigned Students\n  // ------------------------------\n  useEffect(() => {\n    const loadStudents = async () => {\n      try {\n        let resp;\n        try {\n          resp = await api.get(\"/api/mentor/students\", {\n            params: {\n              email: mentorEmail\n            }\n          });\n        } catch {\n          try {\n            resp = await api.get(\"/api/mentors/students\", {\n              params: {\n                email: mentorEmail\n              }\n            });\n          } catch {\n            resp = await api.get(\"/api/teacher/students\");\n          }\n        }\n        setStudents(resp.data || []);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to load students\");\n      }\n    };\n    loadStudents();\n  }, [mentorEmail]);\n\n  // ------------------------------\n  // Calculate Risk Level\n  // ------------------------------\n  const getRiskLevel = s => {\n    var _s$attendance, _s$cgpa, _s$financialScore, _s$studyHours, _s$previousYearBacklo;\n    let risk = 0;\n    if (((_s$attendance = s.attendance) !== null && _s$attendance !== void 0 ? _s$attendance : 100) < 75) risk += 2;\n    if (((_s$cgpa = s.cgpa) !== null && _s$cgpa !== void 0 ? _s$cgpa : 10) < 6) risk += 2;\n    if (((_s$financialScore = s.financialScore) !== null && _s$financialScore !== void 0 ? _s$financialScore : 100) < 50) risk += 1;\n    if (((_s$studyHours = s.studyHours) !== null && _s$studyHours !== void 0 ? _s$studyHours : 10) < 2) risk += 2;\n    if (((_s$previousYearBacklo = s.previousYearBacklogs) !== null && _s$previousYearBacklo !== void 0 ? _s$previousYearBacklo : 0) > 2) risk += 2;\n    if (risk >= 6) return \"High\";\n    if (risk >= 3) return \"Moderate\";\n    return \"Low\";\n  };\n  const getRiskColor = level => {\n    if (level === \"High\") return \"#f87171\";\n    if (level === \"Moderate\") return \"#facc15\";\n    return \"#4ade80\";\n  };\n  const highRisk = useMemo(() => students.filter(s => getRiskLevel(s) === \"High\"), [students]);\n  const others = useMemo(() => students.filter(s => getRiskLevel(s) !== \"High\"), [students]);\n\n  // ------------------------------\n  // Send Resource\n  // ------------------------------\n  const onSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setStatus(\"\");\n    try {\n      var _res$data$data, _res$data$data$resour;\n      const res = await api.post(\"/api/mentors/sendResource\", {\n        mentorEmail,\n        resource\n      });\n      setStatus(`Resource sent. Total resources: ${((_res$data$data = res.data.data) === null || _res$data$data === void 0 ? void 0 : (_res$data$data$resour = _res$data$data.resources) === null || _res$data$data$resour === void 0 ? void 0 : _res$data$data$resour.length) || 0}`);\n      setResource(\"\");\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Failed to send\");\n    }\n  };\n\n  // ------------------------------\n  // Mentor Intervention Message\n  // ------------------------------\n  const sendIntervention = async email => {\n    const message = messages[email];\n    if (!message) return setError(\"Please enter a message\");\n    try {\n      await api.post(\"/api/mentor/intervention\", {\n        studentEmail: email,\n        mentorEmail,\n        message\n      });\n      setStatus(\"Intervention sent\");\n      setMessages(m => ({\n        ...m,\n        [email]: \"\"\n      }));\n    } catch {\n      setError(\"Failed to send intervention\");\n    }\n  };\n\n  // ------------------------------\n  // Counseling Message\n  // ------------------------------\n  const counseling = async s => {\n    try {\n      await api.post(\"/api/mentor/intervention\", {\n        studentEmail: s.email,\n        mentorEmail,\n        message: `Counseling recommended for ${s.name} (${s.usn}).`\n      });\n      setStatus(\"Counseling note sent\");\n    } catch {\n      setError(\"Failed to send counseling note\");\n    }\n  };\n\n  // ------------------------------\n  // AI Prediction ‚Üí Modal + PDF\n  // ------------------------------\n  const handleAiSuggestions = async student => {\n    setSelectedStudent(student);\n    setLoadingAi(true);\n    setError(\"\");\n    const payload = {\n      attendance: parseFloat(student.attendance || student.Attendance || 0),\n      cgpa: parseFloat(student.cgpa || student.CGPA || 0),\n      financial_score: parseFloat(student.financial_score || student.financialScore || 0),\n      study_hours: parseFloat(student.study_hours || student.studyHours || 0),\n      previous_year_backlogs: parseInt(student.previous_year_backlogs || student.previousYearBacklogs || 0)\n    };\n    try {\n      const res = await api.post(\"/api/ai/predict\", payload);\n      setAiData(res.data);\n      setShowModal(true);\n\n      // Auto-download PDF\n      await downloadPdf(student, res.data);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(\"AI Failed: \" + (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || err.message));\n    } finally {\n      setLoadingAi(false);\n    }\n  };\n\n  // ------------------------------\n  // Generate PDF Report\n  // ------------------------------\n  const downloadPdf = async (student, aiData) => {\n    try {\n      setDownloading(true);\n      const token = localStorage.getItem(\"token\");\n      const payload = {\n        student: {\n          ...student,\n          financialScore: student.financialScore || 0,\n          studyHours: student.studyHours || 0,\n          previousYearBacklogs: student.previousYearBacklogs || 0\n        },\n        risk: aiData.risk,\n        score: aiData.score,\n        tips: aiData.tips\n      };\n      const resp = await fetch(\"http://localhost:5000/api/ai/generate-pdf\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/pdf\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!resp.ok) throw new Error(\"PDF generation failed\");\n      const blob = await resp.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download = `${student.name.replace(/\\s+/g, \"_\")}_suggestions.pdf`;\n      link.click();\n      setTimeout(() => window.URL.revokeObjectURL(url), 100);\n    } catch (e) {\n      setError(\"PDF Download Failed: \" + e.message);\n    } finally {\n      setDownloading(false);\n    }\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    setAiData(null);\n  };\n\n  // ------------------------------\n  // UI Starts\n  // ------------------------------\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      x: 24,\n      opacity: 0\n    },\n    animate: {\n      x: 0,\n      opacity: 1\n    },\n    transition: {\n      duration: 0.4\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: 0\n      },\n      children: \"Mentor Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"glass-card sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"side-link\",\n          to: \"/mentor\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon\",\n            children: \"\\uD83C\\uDFE0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 52\n          }, this), \"Home\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"side-link\",\n          to: \"/mentor\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon\",\n            children: \"\\u2709\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 52\n          }, this), \"Messages\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"side-link\",\n          to: \"/profile\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon\",\n            children: \"\\uD83D\\uDC64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 53\n          }, this), \"Profile\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Send a resource/message to your assigned students.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onSubmit,\n            className: \"form-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: mentorEmail,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Resource link or message\",\n              value: resource,\n              onChange: e => setResource(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              type: \"submit\",\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), status && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"success\",\n              children: status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 26\n            }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass-card\",\n          style: {\n            marginTop: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u26A0\\uFE0F High Risk Students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), highRisk.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No high-risk students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 38\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list\",\n            children: highRisk.map(s => /*#__PURE__*/_jsxDEV(StudentRow, {\n              s: s,\n              messages: messages,\n              setMessages: setMessages,\n              sendIntervention: sendIntervention,\n              counseling: counseling,\n              handleAiSuggestions: handleAiSuggestions,\n              getRiskLevel: getRiskLevel,\n              selectedStudent: selectedStudent,\n              loadingAi: loadingAi,\n              setViewItem: setViewItem\n            }, s._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass-card\",\n          style: {\n            marginTop: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Assigned Students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), others.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No students assigned\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 36\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list\",\n            children: others.map(s => /*#__PURE__*/_jsxDEV(StudentRow, {\n              s: s,\n              messages: messages,\n              setMessages: setMessages,\n              sendIntervention: sendIntervention,\n              counseling: counseling,\n              handleAiSuggestions: handleAiSuggestions,\n              getRiskLevel: getRiskLevel,\n              selectedStudent: selectedStudent,\n              loadingAi: loadingAi,\n              setViewItem: setViewItem\n            }, s._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), viewItem && /*#__PURE__*/_jsxDEV(StudentInfoCard, {\n          student: viewItem,\n          onClose: () => setViewItem(null)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: showModal && aiData && /*#__PURE__*/_jsxDEV(AIModal, {\n            aiData: aiData,\n            student: selectedStudent,\n            closeModal: closeModal,\n            downloading: downloading,\n            handleDownloadReport: downloadPdf\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), messageItem && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-backdrop\",\n          onClick: () => setMessageItem(null),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal glass-card\",\n            onClick: e => e.stopPropagation(),\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Send Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: 4,\n              placeholder: \"Write a message...\",\n              value: messageText,\n              onChange: e => setMessageText(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                gap: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                onClick: async () => {\n                  await api.post(\"/api/mentor/intervention\", {\n                    studentEmail: messageItem.email,\n                    mentorEmail,\n                    message: messageText\n                  });\n                  setMessageItem(null);\n                  setMessageText(\"\");\n                  setStatus(\"Message sent\");\n                },\n                children: \"Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                onClick: () => setMessageItem(null),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n}\n\n/* ------------------------------\n Reusable Student Row Component\n------------------------------ */\n_s(MentorDashboard, \"p2smWOwvHICDzalbXmMyDA7eCb8=\");\n_c = MentorDashboard;\nfunction StudentRow({\n  s,\n  messages,\n  setMessages,\n  sendIntervention,\n  counseling,\n  handleAiSuggestions,\n  getRiskLevel,\n  selectedStudent,\n  loadingAi,\n  setViewItem\n}) {\n  const level = getRiskLevel(s);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"list-item\",\n    style: {\n      alignItems: \"flex-start\",\n      gap: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"student-name\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: s.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 39\n        }, this), \" \\u2014 \", s.usn]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"student-email\",\n        children: s.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"student-stats\",\n        children: [\"CGPA \", s.cgpa, \" \\u2022 Attendance \", s.attendance, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge\",\n        style: {\n          background: level === \"High\" ? \"#f87171\" : level === \"Moderate\" ? \"#facc15\" : \"#4ade80\"\n        },\n        children: level\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minWidth: 320\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"intervention-input\",\n        placeholder: \"Intervention / message\",\n        value: messages[s.email] || \"\",\n        onChange: e => setMessages(m => ({\n          ...m,\n          [s.email]: e.target.value\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 6,\n          marginTop: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => sendIntervention(s.email),\n          children: \"\\uD83D\\uDCAC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => counseling(s),\n          children: \"\\uD83E\\uDDD1\\u200D\\u2695\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAiSuggestions(s),\n          className: \"px-3 py-1 bg-blue-600 text-white rounded-md text-sm\",\n          disabled: loadingAi && (selectedStudent === null || selectedStudent === void 0 ? void 0 : selectedStudent.email) === s.email,\n          children: loadingAi && (selectedStudent === null || selectedStudent === void 0 ? void 0 : selectedStudent.email) === s.email ? \"‚è≥\" : \"ü§ñ AI Tips\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 5\n  }, this);\n}\n\n/* ------------------------------\n AI Modal Component\n------------------------------ */\n_c2 = StudentRow;\nfunction AIModal({\n  aiData,\n  student,\n  closeModal,\n  downloading,\n  handleDownloadReport\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    onClick: closeModal,\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"bg-white rounded-lg shadow-xl w-full max-w-md p-6\",\n      onClick: e => e.stopPropagation(),\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      exit: {\n        opacity: 0,\n        y: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-800\",\n          children: [\"AI Recommendations for \", student.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeModal,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: \"\\u2716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"Risk Level:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full text-xs font-medium ${aiData.risk === \"High\" ? \"bg-red-100 text-red-800\" : aiData.risk === \"Moderate\" ? \"bg-orange-100 text-orange-800\" : \"bg-green-100 text-green-800\"}`,\n            children: aiData.risk\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"Risk Score: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this), aiData.score, \"/10\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium\",\n            children: \"Recommendations:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            className: \"list-decimal list-inside space-y-1\",\n            children: aiData.tips.map((tip, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: tip\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 44\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 flex justify-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDownloadReport(student, aiData),\n          className: \"px-4 py-2 bg-green-600 text-white rounded-md\",\n          disabled: downloading,\n          children: downloading ? \"‚è≥ Generating...\" : \"üìÑ Download Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 400,\n    columnNumber: 5\n  }, this);\n}\n_c3 = AIModal;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MentorDashboard\");\n$RefreshReg$(_c2, \"StudentRow\");\n$RefreshReg$(_c3, \"AIModal\");","map":{"version":3,"names":["React","useMemo","useState","useEffect","api","motion","AnimatePresence","Link","StudentInfoCard","jsxDEV","_jsxDEV","MentorDashboard","_s","mentorEmail","localStorage","getItem","resource","setResource","status","setStatus","error","setError","students","setStudents","messages","setMessages","viewItem","setViewItem","messageItem","setMessageItem","messageText","setMessageText","aiData","setAiData","selectedStudent","setSelectedStudent","showModal","setShowModal","loadingAi","setLoadingAi","downloading","setDownloading","loadStudents","resp","get","params","email","data","err","_err$response","_err$response$data","response","message","getRiskLevel","s","_s$attendance","_s$cgpa","_s$financialScore","_s$studyHours","_s$previousYearBacklo","risk","attendance","cgpa","financialScore","studyHours","previousYearBacklogs","getRiskColor","level","highRisk","filter","others","onSubmit","e","preventDefault","_res$data$data","_res$data$data$resour","res","post","resources","length","_err$response2","_err$response2$data","sendIntervention","studentEmail","m","counseling","name","usn","handleAiSuggestions","student","payload","parseFloat","Attendance","CGPA","financial_score","study_hours","previous_year_backlogs","parseInt","downloadPdf","_err$response3","_err$response3$data","token","score","tips","fetch","method","headers","Accept","Authorization","body","JSON","stringify","ok","Error","blob","url","window","URL","createObjectURL","link","document","createElement","href","download","replace","click","setTimeout","revokeObjectURL","closeModal","div","initial","x","opacity","animate","transition","duration","children","style","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","className","to","type","value","readOnly","placeholder","onChange","target","map","StudentRow","_id","onClose","AIModal","handleDownloadReport","onClick","stopPropagation","rows","display","gap","_c","alignItems","background","minWidth","disabled","_c2","y","exit","tip","i","_c3","$RefreshReg$"],"sources":["C:/MINIPROJECT STUDENTDROPUT/miniproject7/suraksha_project/frontend/src/pages/MentorDashboard.jsx"],"sourcesContent":["import React, { useMemo, useState, useEffect } from \"react\";\nimport api from \"../api\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\nimport StudentInfoCard from \"../components/StudentInfoCard\";\nimport \"../components/StudentInfoCard.css\";\nimport \"./MentorDashboard.css\";\n\nexport default function MentorDashboard() {\n  const mentorEmail = localStorage.getItem(\"email\") || \"\";\n\n  const [resource, setResource] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const [students, setStudents] = useState([]);\n  const [messages, setMessages] = useState({});\n\n  const [viewItem, setViewItem] = useState(null);\n  const [messageItem, setMessageItem] = useState(null);\n  const [messageText, setMessageText] = useState(\"\");\n\n  const [aiData, setAiData] = useState(null);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  const [loadingAi, setLoadingAi] = useState(false);\n  const [downloading, setDownloading] = useState(false);\n\n  // ------------------------------\n  // Load Assigned Students\n  // ------------------------------\n  useEffect(() => {\n    const loadStudents = async () => {\n      try {\n        let resp;\n\n        try {\n          resp = await api.get(\"/api/mentor/students\", { params: { email: mentorEmail } });\n        } catch {\n          try {\n            resp = await api.get(\"/api/mentors/students\", { params: { email: mentorEmail } });\n          } catch {\n            resp = await api.get(\"/api/teacher/students\");\n          }\n        }\n\n        setStudents(resp.data || []);\n      } catch (err) {\n        setError(err?.response?.data?.message || \"Failed to load students\");\n      }\n    };\n\n    loadStudents();\n  }, [mentorEmail]);\n\n  // ------------------------------\n  // Calculate Risk Level\n  // ------------------------------\n  const getRiskLevel = (s) => {\n    let risk = 0;\n\n    if ((s.attendance ?? 100) < 75) risk += 2;\n    if ((s.cgpa ?? 10) < 6) risk += 2;\n    if ((s.financialScore ?? 100) < 50) risk += 1;\n    if ((s.studyHours ?? 10) < 2) risk += 2;\n    if ((s.previousYearBacklogs ?? 0) > 2) risk += 2;\n\n    if (risk >= 6) return \"High\";\n    if (risk >= 3) return \"Moderate\";\n    return \"Low\";\n  };\n\n  const getRiskColor = (level) => {\n    if (level === \"High\") return \"#f87171\";\n    if (level === \"Moderate\") return \"#facc15\";\n    return \"#4ade80\";\n  };\n\n  const highRisk = useMemo(() => students.filter((s) => getRiskLevel(s) === \"High\"), [students]);\n  const others = useMemo(() => students.filter((s) => getRiskLevel(s) !== \"High\"), [students]);\n\n  // ------------------------------\n  // Send Resource\n  // ------------------------------\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setStatus(\"\");\n\n    try {\n      const res = await api.post(\"/api/mentors/sendResource\", { mentorEmail, resource });\n      setStatus(`Resource sent. Total resources: ${res.data.data?.resources?.length || 0}`);\n      setResource(\"\");\n    } catch (err) {\n      setError(err?.response?.data?.message || \"Failed to send\");\n    }\n  };\n\n  // ------------------------------\n  // Mentor Intervention Message\n  // ------------------------------\n  const sendIntervention = async (email) => {\n    const message = messages[email];\n    if (!message) return setError(\"Please enter a message\");\n\n    try {\n      await api.post(\"/api/mentor/intervention\", {\n        studentEmail: email,\n        mentorEmail,\n        message,\n      });\n      setStatus(\"Intervention sent\");\n      setMessages((m) => ({ ...m, [email]: \"\" }));\n    } catch {\n      setError(\"Failed to send intervention\");\n    }\n  };\n\n  // ------------------------------\n  // Counseling Message\n  // ------------------------------\n  const counseling = async (s) => {\n    try {\n      await api.post(\"/api/mentor/intervention\", {\n        studentEmail: s.email,\n        mentorEmail,\n        message: `Counseling recommended for ${s.name} (${s.usn}).`,\n      });\n\n      setStatus(\"Counseling note sent\");\n    } catch {\n      setError(\"Failed to send counseling note\");\n    }\n  };\n\n  // ------------------------------\n  // AI Prediction ‚Üí Modal + PDF\n  // ------------------------------\n  const handleAiSuggestions = async (student) => {\n    setSelectedStudent(student);\n    setLoadingAi(true);\n    setError(\"\");\n\n    const payload = {\n      attendance: parseFloat(student.attendance || student.Attendance || 0),\n      cgpa: parseFloat(student.cgpa || student.CGPA || 0),\n      financial_score: parseFloat(student.financial_score || student.financialScore || 0),\n      study_hours: parseFloat(student.study_hours || student.studyHours || 0),\n      previous_year_backlogs: parseInt(student.previous_year_backlogs || student.previousYearBacklogs || 0),\n    };\n\n    try {\n      const res = await api.post(\"/api/ai/predict\", payload);\n\n      setAiData(res.data);\n      setShowModal(true);\n\n      // Auto-download PDF\n      await downloadPdf(student, res.data);\n    } catch (err) {\n      setError(\"AI Failed: \" + (err.response?.data?.message || err.message));\n    } finally {\n      setLoadingAi(false);\n    }\n  };\n\n  // ------------------------------\n  // Generate PDF Report\n  // ------------------------------\n  const downloadPdf = async (student, aiData) => {\n    try {\n      setDownloading(true);\n\n      const token = localStorage.getItem(\"token\");\n      const payload = {\n        student: {\n          ...student,\n          financialScore: student.financialScore || 0,\n          studyHours: student.studyHours || 0,\n          previousYearBacklogs: student.previousYearBacklogs || 0,\n        },\n        risk: aiData.risk,\n        score: aiData.score,\n        tips: aiData.tips,\n      };\n\n      const resp = await fetch(\"http://localhost:5000/api/ai/generate-pdf\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/pdf\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(payload),\n      });\n\n      if (!resp.ok) throw new Error(\"PDF generation failed\");\n\n      const blob = await resp.blob();\n      const url = window.URL.createObjectURL(blob);\n\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download = `${student.name.replace(/\\s+/g, \"_\")}_suggestions.pdf`;\n      link.click();\n\n      setTimeout(() => window.URL.revokeObjectURL(url), 100);\n    } catch (e) {\n      setError(\"PDF Download Failed: \" + e.message);\n    } finally {\n      setDownloading(false);\n    }\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setAiData(null);\n  };\n\n  // ------------------------------\n  // UI Starts\n  // ------------------------------\n  return (\n    <motion.div initial={{ x: 24, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ duration: 0.4 }}>\n      <h3 style={{ marginTop: 0 }}>Mentor Dashboard</h3>\n\n      <div className=\"dashboard-layout\">\n        {/* Sidebar */}\n        <aside className=\"glass-card sidebar\">\n          <Link className=\"side-link\" to=\"/mentor\"><span className=\"icon\">üè†</span>Home</Link>\n          <Link className=\"side-link\" to=\"/mentor\"><span className=\"icon\">‚úâÔ∏è</span>Messages</Link>\n          <Link className=\"side-link\" to=\"/profile\"><span className=\"icon\">üë§</span>Profile</Link>\n        </aside>\n\n        {/* Main */}\n        <section>\n          {/* Send Resource */}\n          <div className=\"glass-card\">\n            <p>Send a resource/message to your assigned students.</p>\n            <form onSubmit={onSubmit} className=\"form-col\">\n              <input type=\"text\" value={mentorEmail} readOnly />\n              <input type=\"text\" placeholder=\"Resource link or message\"\n                value={resource} onChange={(e) => setResource(e.target.value)} />\n              <button className=\"btn\" type=\"submit\">Send</button>\n\n              {status && <p className=\"success\">{status}</p>}\n              {error && <p className=\"error\">{error}</p>}\n            </form>\n          </div>\n\n          {/* High Risk */}\n          <div className=\"glass-card\" style={{ marginTop: 12 }}>\n            <h4>‚ö†Ô∏è High Risk Students</h4>\n            {highRisk.length === 0 ? <p>No high-risk students</p> : (\n              <ul className=\"list\">\n                {highRisk.map((s) => (\n                  <StudentRow\n                    key={s._id}\n                    s={s}\n                    messages={messages}\n                    setMessages={setMessages}\n                    sendIntervention={sendIntervention}\n                    counseling={counseling}\n                    handleAiSuggestions={handleAiSuggestions}\n                    getRiskLevel={getRiskLevel}\n                    selectedStudent={selectedStudent}\n                    loadingAi={loadingAi}\n                    setViewItem={setViewItem}\n                  />\n                ))}\n              </ul>\n            )}\n          </div>\n\n          {/* Other Students */}\n          <div className=\"glass-card\" style={{ marginTop: 12 }}>\n            <h4>Assigned Students</h4>\n            {others.length === 0 ? <p>No students assigned</p> : (\n              <ul className=\"list\">\n                {others.map((s) => (\n                  <StudentRow\n                    key={s._id}\n                    s={s}\n                    messages={messages}\n                    setMessages={setMessages}\n                    sendIntervention={sendIntervention}\n                    counseling={counseling}\n                    handleAiSuggestions={handleAiSuggestions}\n                    getRiskLevel={getRiskLevel}\n                    selectedStudent={selectedStudent}\n                    loadingAi={loadingAi}\n                    setViewItem={setViewItem}\n                  />\n                ))}\n              </ul>\n            )}\n          </div>\n\n          {/* Student Info Modal */}\n          {viewItem && <StudentInfoCard student={viewItem} onClose={() => setViewItem(null)} />}\n\n          {/* AI Modal */}\n          <AnimatePresence>\n            {showModal && aiData && (\n              <AIModal\n                aiData={aiData}\n                student={selectedStudent}\n                closeModal={closeModal}\n                downloading={downloading}\n                handleDownloadReport={downloadPdf}\n              />\n            )}\n          </AnimatePresence>\n\n          {/* Msg Modal */}\n          {messageItem && (\n            <div className=\"modal-backdrop\" onClick={() => setMessageItem(null)}>\n              <div className=\"modal glass-card\" onClick={(e) => e.stopPropagation()}>\n                <h4>Send Message</h4>\n                <textarea rows={4}\n                  placeholder=\"Write a message...\"\n                  value={messageText}\n                  onChange={(e) => setMessageText(e.target.value)} />\n\n                <div style={{ display: \"flex\", gap: 8 }}>\n                  <button\n                    className=\"btn\"\n                    onClick={async () => {\n                      await api.post(\"/api/mentor/intervention\", {\n                        studentEmail: messageItem.email,\n                        mentorEmail,\n                        message: messageText,\n                      });\n                      setMessageItem(null);\n                      setMessageText(\"\");\n                      setStatus(\"Message sent\");\n                    }}\n                  >\n                    Send\n                  </button>\n                  <button className=\"btn\" onClick={() => setMessageItem(null)}>Cancel</button>\n                </div>\n              </div>\n            </div>\n          )}\n        </section>\n      </div>\n    </motion.div>\n  );\n}\n\n/* ------------------------------\n Reusable Student Row Component\n------------------------------ */\nfunction StudentRow({ s, messages, setMessages, sendIntervention, counseling, handleAiSuggestions, getRiskLevel, selectedStudent, loadingAi, setViewItem }) {\n  const level = getRiskLevel(s);\n\n  return (\n    <li className=\"list-item\" style={{ alignItems: \"flex-start\", gap: 8 }}>\n      <div>\n        <div className=\"student-name\"><b>{s.name}</b> ‚Äî {s.usn}</div>\n        <div className=\"student-email\">{s.email}</div>\n        <div className=\"student-stats\">CGPA {s.cgpa} ‚Ä¢ Attendance {s.attendance}%</div>\n\n        <span className=\"badge\" style={{ background: level === \"High\" ? \"#f87171\" : level === \"Moderate\" ? \"#facc15\" : \"#4ade80\" }}>\n          {level}\n        </span>\n      </div>\n\n      <div style={{ minWidth: 320 }}>\n        <input\n          className=\"intervention-input\"\n          placeholder=\"Intervention / message\"\n          value={messages[s.email] || \"\"}\n          onChange={(e) => setMessages((m) => ({ ...m, [s.email]: e.target.value }))}\n        />\n\n        <div style={{ display: \"flex\", gap: 6, marginTop: 6 }}>\n          <button className=\"btn\" onClick={() => sendIntervention(s.email)}>üí¨</button>\n          <button className=\"btn\" onClick={() => counseling(s)}>üßë‚Äç‚öïÔ∏è</button>\n          <button\n            onClick={() => handleAiSuggestions(s)}\n            className=\"px-3 py-1 bg-blue-600 text-white rounded-md text-sm\"\n            disabled={loadingAi && selectedStudent?.email === s.email}\n          >\n            {loadingAi && selectedStudent?.email === s.email ? \"‚è≥\" : \"ü§ñ AI Tips\"}\n          </button>\n        </div>\n      </div>\n    </li>\n  );\n}\n\n/* ------------------------------\n AI Modal Component\n------------------------------ */\nfunction AIModal({ aiData, student, closeModal, downloading, handleDownloadReport }) {\n  return (\n    <div\n      className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\"\n      onClick={closeModal}\n    >\n      <motion.div\n        className=\"bg-white rounded-lg shadow-xl w-full max-w-md p-6\"\n        onClick={(e) => e.stopPropagation()}\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: 20 }}\n      >\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-xl font-semibold text-gray-800\">\n            AI Recommendations for {student.name}\n          </h3>\n\n          <button onClick={closeModal} className=\"text-gray-500 hover:text-gray-700\">\n            ‚úñ\n          </button>\n        </div>\n\n        <div className=\"space-y-4\">\n          {/* Risk Level */}\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"font-medium\">Risk Level:</span>\n            <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n              aiData.risk === \"High\"\n                ? \"bg-red-100 text-red-800\"\n                : aiData.risk === \"Moderate\"\n                  ? \"bg-orange-100 text-orange-800\"\n                  : \"bg-green-100 text-green-800\"\n            }`}>\n              {aiData.risk}\n            </span>\n          </div>\n\n          {/* Risk Score */}\n          <div>\n            <span className=\"font-medium\">Risk Score: </span>\n            {aiData.score}/10\n          </div>\n\n          {/* Tips */}\n          <div>\n            <h4 className=\"font-medium\">Recommendations:</h4>\n            <ol className=\"list-decimal list-inside space-y-1\">\n              {aiData.tips.map((tip, i) => <li key={i}>{tip}</li>)}\n            </ol>\n          </div>\n        </div>\n\n        <div className=\"mt-6 flex justify-end\">\n          <button\n            onClick={() => handleDownloadReport(student, aiData)}\n            className=\"px-4 py-2 bg-green-600 text-white rounded-md\"\n            disabled={downloading}\n          >\n            {downloading ? \"‚è≥ Generating...\" : \"üìÑ Download Report\"}\n          </button>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}